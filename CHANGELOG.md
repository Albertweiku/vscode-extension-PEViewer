# 更新日志

本文档记录 "PE/ELF Viewer" 扩展的所有重要更改。

## [2.0.1] - 2025-12-17

### 重要修复

#### 搜索功能增强

- 🔍 **跨页面搜索**：修复搜索功能只能搜索当前页面的问题，现在可以搜索所有分页的数据
- 🎯 **自动页面跳转**：搜索到匹配项时自动跳转到包含该项的页面
- ⚡ **跨页导航**：支持使用 Enter/Shift+Enter 在不同页面的搜索结果间导航
- 💡 **搜索结果持久化**：切换页面时保持搜索高亮状态
- 📊 **全局数据搜索**：直接搜索完整数据集而非仅 DOM 元素

### 技术改进

- 🔄 重构搜索逻辑，支持全局数据数组搜索
- 🎨 改进高亮显示机制，支持跨页面高亮
- ⚡ 优化搜索性能，添加防抖和异步处理
- 🛡️ 保留 DOM 搜索作为回退机制，确保向后兼容

### 影响范围

- PE 文件的导出函数搜索（分页数据）
- PE 文件的导入函数搜索（分页数据）
- 所有使用分页显示的大型数据列表

---

## [2.0.0] - 2025-12-17

### 重大更新

#### Dumpbin 工具集成

- 🚀 **Windows 平台优先使用 dumpbin**：在 Windows 系统上自动检测并优先使用 Visual Studio 的 dumpbin 工具解析 PE 文件
- 🔄 **智能回退机制**：dumpbin 不可用或解析失败时自动回退到内置 pe-parser
- 📊 **更准确的解析数据**：利用 dumpbin 获取更详细的文件头、节表、导入/导出表信息
- 🛡️ **跨平台兼容**：非 Windows 平台或 dumpbin 不可用时无缝使用内置解析器

#### 项目结构重构

- 📁 **模块化架构**：将 PE、ELF、LIB 解析器分离到独立目录
- 🎨 **样式文件分离**：不同文件类型的 CSS 样式独立管理
- 🔧 **代码组织优化**：提升代码可维护性和可扩展性

#### COFF/LIB 文件增强

- 🔍 **符号搜索功能**：支持在导出符号列表中快速搜索和过滤
- 📊 **导出符号显示**：完整显示 COFF 文件的导出符号信息
- 🐛 **解析修复**：修复 COFF linker 成员偏移解析错误

#### PE 文件改进

- 🏗️ **架构信息优化**：支持更多架构类型的详细描述和机器码显示
- 📦 **资源概览分离**：优化资源节的显示结构

### 技术改进

- ⚡ 新增 dumpbin 解析器模块 (`src/parsers/pe/dumpbinParser.ts`)
- 🔄 增强的文档工厂，支持多种解析策略
- 📝 详细的解析日志，便于调试和故障排查
- 🛡️ 超时和错误处理机制，确保稳定性

### 开发者体验

- 📚 新增 dumpbin 集成文档 (`docs/DUMPBIN_INTEGRATION.md`)
- 🔧 改进的代码结构，便于后续功能扩展

---

## [1.2.0] - 2025-12-16

### 新增功能

#### LIB/COFF 文件完整支持

- 📦 **COFF Archive 解析**：完整支持 .lib 静态库文件格式
- 📊 **成员列表显示**：查看库文件包含的所有目标文件
- 🔗 **符号表解析**：显示库中的导出符号和关联成员

#### ELF 文件增强

- 🔍 **依赖库详细信息**：显示每个导入函数关联的具体依赖库名称
- 📋 **完整头部显示**：优化 ELF 文件头、程序头、节头的 DOM 结构
- 🐛 **修复导入函数显示**：解决 ELF 文件导入函数列表不显示的问题

### 界面改进

- 🌐 **国际化完善**：修复部分字符串未正确国际化的问题
- 🎨 **代码结构优化**：改进不同查看器的生成和选择结构

---

## [1.0.251206] - 2024-12-06

### 新增功能

#### ELF 文件支持

- 🆕 完整的 ELF（可执行与可链接格式）文件解析支持
- 🐧 支持 Linux .so 共享对象库
- 📊 多架构支持：x86、x86-64、ARM、AArch64、RISC-V、MIPS、PowerPC
- 📚 智能依赖库解析，支持 DT_NEEDED 解析
- 🔍 导出符号解析，包含地址、大小、类型和绑定信息
- 📦 导入符号解析，包含版本信息
- 🌍 支持鸿蒙（HarmonyOS）、Android 及其他 Linux 系统

#### PE 功能增强

- 🔧 高级函数名解码，支持 MSVC、Itanium（GCC/Clang）和 Rust 符号
- 🔍 导入/导出表搜索功能
- 📄 大量函数列表分页显示支持（每页 100 条）
- 🎨 增强的资源查看器，支持图标、位图和版本信息显示

#### 界面改进

- 🌐 双语支持：中文和英文（自动检测）
- 🎨 VS Code 主题深度集成，完美支持深色/浅色模式
- 📱 响应式布局，支持滚动内容区域
- 🔍 键盘快捷键支持（Enter、Ctrl+上/下箭头进行搜索导航）

### 技术改进

- ⚡ 增强的直接 ELF 符号解析，无需外部工具
- 🔄 多级回退解析策略，提升兼容性
- 📊 详细的日志记录，便于调试和故障排查
- 🛡️ 对格式错误文件的鲁棒性错误处理

### 支持的文件类型

#### Windows PE 文件

- `.exe`、`.dll`、`.ocx`、`.sys`、`.scr`、`.drv`、`.cpl`

#### Linux ELF 文件

- `.so`、`.so.*`、`lib*.so`、`.o`、`.a`、`.ko`、`.elf`、`.axf`、`.bin`、`.out`

## [0.0.1] - 初始发布

### 新增功能

- ✨ 基本的 PE 文件结构查看器
- 📁 文件结构树形导航
- 🔍 详细信息面板
- 📊 导入/导出表解析
- 🎨 资源节查看器
- 💻 VS Code 主题集成

---

**祝您分析愉快！** 🚀
